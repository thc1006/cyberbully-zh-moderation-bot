# CyberPuppy Environment Variables
# 中文網路霸凌防治系統環境變數配置
#
# 使用說明:
# 1. 複製此檔案為 .env: cp .env.example .env
# 2. 填入實際的配置值
# 3. 確保 .env 檔案不被加入版本控制 (已在 .gitignore 中)

# =============================================================================
# 應用程式基本設定
# =============================================================================

# 應用程式名稱和版本
APP_NAME=CyberPuppy
APP_VERSION=1.0.0

# 環境模式: development, production, testing
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# API 服務配置 (FastAPI)
# =============================================================================

# API 基本設定
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1

# Worker 設定
API_WORKERS=1

# CORS 設定
CORS_ORIGINS=*

# 生產環境建議:
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# =============================================================================
# LINE Bot 服務配置
# =============================================================================

# LINE Bot 憑證 (必填)
# 請於 LINE Developers Console 取得: https://developers.line.biz/console/
LINE_CHANNEL_ACCESS_TOKEN=your_channel_access_token_here
LINE_CHANNEL_SECRET=your_channel_secret_here

# Webhook 設定
LINE_WEBHOOK_URL=https://your-domain.com/webhook

# Bot 服務設定
BOT_HOST=0.0.0.0
BOT_PORT=8080

# API 連線設定
CYBERPUPPY_API_URL=http://localhost:8000

# =============================================================================
# 模型配置
# =============================================================================

# 基礎模型
CYBERPUPPY_BASE_MODEL=hfl/chinese-macbert-base
CYBERPUPPY_EMOTION_MODEL=hfl/chinese-roberta-wwm-ext

# 模型路徑
CYBERPUPPY_MODEL_DIR=./models
CYBERPUPPY_MODEL_NAME=hfl/chinese-macbert-base

# 模型參數
CYBERPUPPY_MAX_LENGTH=512
CYBERPUPPY_BATCH_SIZE=16
CYBERPUPPY_MAX_TEXT_LENGTH=4000

# =============================================================================
# 安全閾值設定
# =============================================================================

# 信心度閾值
CYBERPUPPY_CONFIDENCE_THRESHOLD=0.7

# 毒性偵測閾值
CYBERPUPPY_TOXICITY_THRESHOLD=0.7
CYBERPUPPY_SEVERE_TOXICITY_THRESHOLD=0.85

# 情緒分析閾值
CYBERPUPPY_EMOTION_NEGATIVE_THRESHOLD=0.8

# =============================================================================
# 性能配置
# =============================================================================

# GPU 設定
USE_GPU=true
GPU_DEVICE=0
CUDA_VISIBLE_DEVICES=0

# Worker 數量
NUM_WORKERS=4

# 快取設定
CACHE_ENABLED=true
CACHE_SIZE=100

# =============================================================================
# 隱私設定
# =============================================================================

# 隱私保護
LOG_USER_CONTENT=false
HASH_USER_IDS=true

# =============================================================================
# Perspective API (可選)
# =============================================================================

# 如需使用 Google Perspective API
# PERSPECTIVE_API_KEY=your_perspective_api_key_here
# USE_PERSPECTIVE_API=false

# =============================================================================
# 資料庫設定 (可選，目前未使用)
# =============================================================================

# 如未來需要資料庫
# DATABASE_URL=postgresql://user:password@localhost:5432/cyberpuppy
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# 監控與日誌
# =============================================================================

# 效能監控
METRICS_ENABLED=true
METRICS_PORT=8090

# 健康檢查
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# 日誌格式
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# =============================================================================
# Rate Limiting (速率限制)
# =============================================================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=30
RATE_LIMIT_WINDOW=60

# =============================================================================
# 開發環境專用設定
# =============================================================================

# 自動重載 (僅開發環境)
RELOAD=true

# 開發模式
DEVELOPMENT_MODE=true

# =============================================================================
# 注意事項
# =============================================================================
#
# 🔒 安全性:
#    - 絕不要將 .env 檔案提交到版本控制系統
#    - 在生產環境中使用強密碼和安全的 API 金鑰
#    - 限制 CORS 設定為特定域名
#
# 🤖 LINE Bot:
#    - 需要在 LINE Developers Console 建立 Messaging API Channel
#    - 設定 Webhook URL 並啟用
#    - 確保使用 HTTPS 且憑證有效
#
# 🚀 生產環境:
#    - 設定 DEBUG=false
#    - 設定 LOG_USER_CONTENT=false
#    - 使用環境變數管理系統或 Docker Secrets
#    - 定期輪換 API 金鑰
#
# 📚 更多資訊:
#    - 詳見 docs/setup/INSTALL.md
#    - LINE Bot 設定: docs/setup/LINE_BOT_SETUP_GUIDE_2025.md
#    - GPU 設定: docs/setup/GPU_SETUP_GUIDE.md
