# ğŸ” CyberPuppy å°ˆæ¡ˆæ·±åº¦åˆ†æå ±å‘Š

**åˆ†ææ—¥æœŸ**: 2025-09-29
**å°ˆæ¡ˆè·¯å¾‘**: `C:\Users\thc1006\Desktop\dev\cyberbully-zh-moderation-bot`
**å°ˆæ¡ˆé¡å‹**: ä¸­æ–‡ç¶²è·¯éœ¸å‡Œåµæ¸¬ç³»çµ±

---

## ğŸ“Š å°ˆæ¡ˆè¦æ¨¡ç¸½è¦½

### æ•´é«”çµ±è¨ˆ
- **ç¸½æª”æ¡ˆæ•¸**: 9,185 å€‹
- **å°ˆæ¡ˆç¸½å¤§å°**: ~3.7 GB
- **ç¨‹å¼ç¢¼æª”æ¡ˆ**: 254 å€‹ Python æª”æ¡ˆ
- **è³‡æ–™æª”æ¡ˆ**: 128 å€‹ (JSON/CSV/TXT/DB)
- **æ¸¬è©¦æª”æ¡ˆ**: 70 å€‹æ¸¬è©¦æª”æ¡ˆ
- **å¥—ä»¶ä¾è³´**: 160 å€‹ (64 ç”Ÿç”¢ + 96 é–‹ç™¼)

### ç›®éŒ„å¤§å°åˆ†å¸ƒ
| ç›®éŒ„ | å¤§å° | èªªæ˜ |
|------|------|------|
| `models/` | **2.4 GB** | æ¨¡å‹æ¬Šé‡æª”æ¡ˆ |
| `data/` | **666 MB** | è¨“ç·´èˆ‡æ¸¬è©¦è³‡æ–™ |
| `htmlcov/` | 11 MB | æ¸¬è©¦è¦†è“‹ç‡å ±å‘Š |
| `tests/` | 3.8 MB | æ¸¬è©¦ç¨‹å¼ç¢¼ |
| `src/` | 2.8 MB | æºç¨‹å¼ç¢¼ |
| `scripts/` | 1.4 MB | è…³æœ¬å·¥å…· |

---

## ğŸ—„ï¸ è³‡æ–™é›†è©³ç´°åˆ†æ

### è³‡æ–™ç¸½é‡
- **ç¸½è³‡æ–™è¡Œæ•¸**: **4,749,491 è¡Œ**
- **åŸå§‹è³‡æ–™**: 550 MB
- **è™•ç†å¾Œè³‡æ–™**: 101 MB
- **å¤–éƒ¨è³‡æ–™**: 5 KB
- **æ¨™è¨»è³‡æ–™**: 28 KB

### ä¸»è¦è³‡æ–™é›†

#### 1. COLD Dataset (Chinese Offensive Language Dataset)
**ä½ç½®**: `data/raw/cold/COLDataset/`

| æª”æ¡ˆ | æ¨£æœ¬æ•¸ | ç”¨é€” |
|------|--------|------|
| `train.csv` | **25,727** | è¨“ç·´é›† |
| `dev.csv` | **6,432** | é–‹ç™¼é›† |
| `test.csv` | **5,324** | æ¸¬è©¦é›† |
| **ç¸½è¨ˆ** | **37,483** | |

#### 2. DMSC (Douban Movie Short Comments)
**ä½ç½®**: `data/raw/dmsc/`
- **æª”æ¡ˆ**: `DMSC.csv`
- **å¤§å°**: **387 MB**
- **æ¨£æœ¬æ•¸**: **2,131,887 è¡Œ**
- **ç”¨é€”**: æƒ…ç·’åˆ†æè¨“ç·´

#### 3. ChnSentiCorp ä¸­æ–‡æƒ…æ„Ÿèªæ–™åº«
**ä½ç½®**: `data/raw/chnsenticorp/`

| æª”æ¡ˆ | æ¨£æœ¬æ•¸ | ç‹€æ…‹ |
|------|--------|------|
| `ChnSentiCorp_htl_all.csv` | 7,767 | âœ… å¯ç”¨ |
| `ChnSentiCorp_htl_all_2.csv` | 7,767 | âœ… å¯ç”¨ |
| `ChnSentiCorp_from_fate233.csv` | 0 | âš ï¸ ç©ºæª”æ¡ˆ |
| `ChnSentiCorp_gitee.csv` | 0 | âš ï¸ ç©ºæª”æ¡ˆ |
| **ç¸½è¨ˆ** | **15,534** | |

#### 4. è™•ç†å¾Œè¨“ç·´è³‡æ–™é›†
**ä½ç½®**: `data/processed/training_dataset/`

| åˆ†å‰² | æ¨£æœ¬æ•¸ | æ¯’æ€§æ¨™ç±¤åˆ†å¸ƒ | æ–‡å­—é•·åº¦ |
|------|--------|--------------|----------|
| **è¨“ç·´é›†** | **25,659** | toxic: 12,673 (49.4%)<br>none: 12,986 (50.6%) | å¹³å‡: 47.8 å­—<br>æœ€çŸ­: 3 å­—<br>æœ€é•·: 192 å­— |
| **é–‹ç™¼é›†** | **6,430** | toxic: 3,210 (49.9%)<br>none: 3,220 (50.1%) | å¹³å‡: 47.3 å­—<br>æœ€çŸ­: 4 å­—<br>æœ€é•·: 190 å­— |
| **æ¸¬è©¦é›†** | **5,320** | toxic: 2,106 (39.6%)<br>none: 3,214 (60.4%) | å¹³å‡: 48.3 å­—<br>æœ€çŸ­: 4 å­—<br>æœ€é•·: 128 å­— |
| **ç¸½è¨ˆ** | **37,409** | | ä¸­ä½æ•¸: 40-41 å­— |

### æ¨™ç±¤é«”ç³»

**ç¾æœ‰æ¨™ç±¤é¡å‹**:
1. **æ¯’æ€§ (toxicity)**: `none` | `toxic` | `severe`
2. **éœ¸å‡Œ (bullying)**: `none` | `harassment` | `threat`
3. **è§’è‰² (role)**: `none` | `perpetrator` | `victim` | `bystander`
4. **æƒ…ç·’ (emotion)**: `pos` | `neu` | `neg`
5. **æƒ…ç·’å¼·åº¦ (emotion_strength)**: 0-4 (æ•´æ•¸)

**å•é¡Œ**: ç•¶å‰è¨“ç·´è³‡æ–™ä¸­ï¼Œrole å…¨éƒ¨ç‚º "none"ï¼Œemotion å…¨éƒ¨ç‚º "neu"ï¼Œemotion_strength å…¨éƒ¨ç‚º 0

---

## ğŸ¤– æ¨¡å‹æª”æ¡ˆåˆ†æ

### æ¨¡å‹æ¬Šé‡çµ±è¨ˆ

| æ¨¡å‹ | æª”æ¡ˆå¤§å° | æ ¼å¼ | ç‹€æ…‹ | F1 åˆ†æ•¸ |
|------|----------|------|------|---------|
| `gpu_trained_model/model.safetensors` | **391 MB** | safetensors | âŒ æ€§èƒ½å·® | å¯¦æ¸¬: 0.28 |
| `working_toxicity_model/pytorch_model.bin` | **397 MB** | bin | âŒ ç„¡æ³•è¼‰å…¥ | - |
| `macbert_base_demo/best.ckpt` | **397 MB** | ckpt | âš ï¸ æœªæ¸¬è©¦ | è²ç¨±: 0.773 |
| `toxicity_only_demo/best.ckpt` | **397 MB** | ckpt | âš ï¸ æœªæ¸¬è©¦ | è²ç¨±: 0.783 |
| `bullying_a100_best/` | **595 KB** | - | âŒ ç¼ºå°‘æ¬Šé‡ | è²ç¨±: 0.82 |
| `local_training/macbert_aggressive/*.pt` | **16.5 MB** | pt (7æª”æ¡ˆ) | âŒ è¨“ç·´å¤±æ•— | ~0.34 |
| **ç¸½è¨ˆ** | **~1.6 GB** | | | |

### æ¨¡å‹å•é¡Œ
1. **bullying_a100_best**: è²ç¨±æœ€å¥½ (F1=0.82) ä½†ç¼ºå°‘æ¨¡å‹æ¬Šé‡æª”æ¡ˆ
2. **gpu_trained_model**: å¯¦æ¸¬ F1=0.28ï¼Œé ä½æ–¼è²ç¨± 0.77
3. **working_toxicity_model**: config.json æ ¼å¼éŒ¯èª¤ï¼Œç„¡æ³•è¼‰å…¥
4. **local_training**: è¨“ç·´æœªæ”¶æ–‚ï¼Œéæ“¬åˆåš´é‡

---

## ğŸ—ƒï¸ è³‡æ–™åº«æª”æ¡ˆ

### SQLite è³‡æ–™åº«
| è³‡æ–™åº« | ä½ç½® | å¤§å° | ç”¨é€” |
|--------|------|------|------|
| `hive.db` | `.hive-mind/` | **124 KB** | Hive-mind å”èª¿ç³»çµ± |
| `memory.db` | `.hive-mind/` | **16 KB** | Hive-mind è¨˜æ†¶é«”å„²å­˜ |
| `memory.db` | `.swarm/` | **112 KB** | Swarm ç³»çµ±è¨˜æ†¶é«” |

---

## ğŸ’» æºä»£ç¢¼çµæ§‹

### æ ¸å¿ƒæ¨¡çµ„ (`src/cyberpuppy/`)
- **æª”æ¡ˆç¸½æ•¸**: 79 å€‹ Python æª”æ¡ˆ
- **å¤§å°**: 2.8 MB

#### æ¨¡çµ„åˆ†å¸ƒ
| æ¨¡çµ„ | åŠŸèƒ½ | ç‹€æ…‹ |
|------|------|------|
| `active_learning/` | ä¸»å‹•å­¸ç¿’ | âœ… å¯¦ä½œ |
| `arbiter/` | ä»²è£ç³»çµ± (Perspective API) | âœ… å¯¦ä½œ |
| `data/` | è³‡æ–™è™•ç† | âœ… å¯¦ä½œ |
| `data_augmentation/` | è³‡æ–™å¢å¼· | âœ… å¯¦ä½œ |
| `eval/` | è©•ä¼°æŒ‡æ¨™ | âœ… å¯¦ä½œ |
| `explain/` | æ¨¡å‹è§£é‡‹ (SHAP/IG) | âœ… å¯¦ä½œ |
| `labeling/` | æ¨™ç±¤è™•ç† | âœ… å¯¦ä½œ |
| `loop/` | ä¸»å‹•å­¸ç¿’è¿´åœˆ | âœ… å¯¦ä½œ |
| `models/` | æ¨¡å‹å®šç¾© | âœ… å¯¦ä½œ |
| `safety/` | å®‰å…¨è¦å‰‡ | âœ… å¯¦ä½œ |
| `training/` | è¨“ç·´ç®¡ç† | âœ… å¯¦ä½œ |
| `web/` | Web ä»‹é¢ | âœ… å¯¦ä½œ |

### è¨“ç·´è…³æœ¬ (`scripts/`)
- **æª”æ¡ˆæ•¸**: 45 å€‹ Python è…³æœ¬
- **é‡è¦è…³æœ¬**:
  - `train_simple_with_args.py` - ä¸»è¨“ç·´è…³æœ¬
  - `download_datasets.py` - è³‡æ–™é›†ä¸‹è¼‰
  - `verify_model_performance.py` - æ€§èƒ½é©—è­‰
  - `optimize_thresholds.py` - é–¾å€¼å„ªåŒ–ï¼ˆå·²åˆªé™¤ï¼‰

---

## ğŸ§ª æ¸¬è©¦è¦†è“‹ç‡

### æ¸¬è©¦æª”æ¡ˆ
- **æ¸¬è©¦æª”æ¡ˆç¸½æ•¸**: 70 å€‹
- **æ¸¬è©¦ç”¨ä¾‹ç¸½æ•¸**: 179+ å€‹ï¼ˆæ ¹æ“šæœ€è¿‘å ±å‘Šï¼‰

### è¦†è“‹ç‡çµ±è¨ˆï¼ˆæ ¹æ“šæœ€è¿‘æ”¹é€²ï¼‰
| æ¨¡çµ„ | ä¹‹å‰ | ç¾åœ¨ | æ”¹é€² |
|------|------|------|------|
| `detector.py` | 3.77% | **70.16%** | +66.39% |
| `metrics.py` | 0% | **86.67%** | +86.67% |
| `rules.py` | 81.69% | **90.17%** | +8.48% |

---

## ğŸ“¦ Git LFS è¿½è¹¤æª”æ¡ˆ

**å¤§æª”æ¡ˆç®¡ç†** (å‰ 10 å€‹):
1. `data/processed/augmentation_validation_report.json`
2. `data/processed/chnsenticorp/dev.json`
3. `data/processed/chnsenticorp/test.json`
4. `data/processed/chnsenticorp/train.json`
5. `data/processed/cold/dev_processed.csv`
6. `data/processed/cold/test_processed.csv`
7. `data/processed/cold/train_processed.csv`
8. `data/processed/cold_analysis.json`
9. `data/processed/cold_augmented.csv`
10. `data/processed/cold_augmented_stats.json`

---

## ğŸ”§ å°ˆæ¡ˆé…ç½®

### ä¸»è¦é…ç½®æª”æ¡ˆ
| æª”æ¡ˆ | è¡Œæ•¸ | ç”¨é€” |
|------|------|------|
| `pyproject.toml` | 7,085 bytes | å°ˆæ¡ˆé…ç½®èˆ‡å¥—ä»¶ç®¡ç† |
| `requirements.txt` | 64 è¡Œ | ç”Ÿç”¢ç’°å¢ƒä¾è³´ |
| `requirements-dev.txt` | 96 è¡Œ | é–‹ç™¼ç’°å¢ƒä¾è³´ |
| `docker-compose.yml` | 2,437 bytes | Docker éƒ¨ç½²é…ç½® |

### ä¸»è¦ä¾è³´å¥—ä»¶
- **æ·±åº¦å­¸ç¿’**: PyTorch, Transformers, Accelerate
- **è³‡æ–™è™•ç†**: NumPy, Pandas, scikit-learn
- **NLP**: jieba, OpenCC, CKIPTagger
- **è§£é‡‹æ€§**: SHAP, Captum
- **API**: FastAPI, LINE SDK
- **æ¸¬è©¦**: pytest, coverage

---

## ğŸ“ˆ é—œéµæ•¸æ“šç¸½çµ

### æ•¸æ“šè¦æ¨¡
- **ç¸½è³‡æ–™æ¨£æœ¬**: ~2,200,000+ (å« DMSC)
- **è¨“ç·´ç”¨æ¨£æœ¬**: 37,409 (COLD ç‚ºä¸»)
- **æ¨™è¨»æ¨£æœ¬**: 37,483 (COLD å®Œæ•´æ¨™è¨»)

### æ¨¡å‹è¦æ¨¡
- **æ¨¡å‹ç¸½å¤§å°**: ~1.6 GB
- **å–®å€‹å®Œæ•´æ¨¡å‹**: ~400 MB
- **å¯ç”¨æ¨¡å‹æ•¸**: 0 å€‹ï¼ˆç„¡é”æ¨™æ¨¡å‹ï¼‰

### æ€§èƒ½æŒ‡æ¨™ï¼ˆå¯¦æ¸¬ï¼‰
- **æœ€ä½³è²ç¨± F1**: 0.82 (A100ï¼Œç„¡æ¬Šé‡)
- **æœ€ä½³å¯ç”¨ F1**: 0.28 (gpu_trained_modelï¼Œé æœªé”æ¨™)
- **ç›®æ¨™ F1**: â‰¥0.75

### é–‹ç™¼è¦æ¨¡
- **Python ç¨‹å¼ç¢¼**: 254 æª”æ¡ˆ
- **æ¸¬è©¦ç¨‹å¼ç¢¼**: 70 æª”æ¡ˆ
- **æ¸¬è©¦è¦†è“‹ç‡**: 70-90%ï¼ˆæ ¸å¿ƒæ¨¡çµ„ï¼‰

---

## ğŸš¨ é—œéµå•é¡Œ

1. **ç„¡å¯ç”¨ç”Ÿç”¢æ¨¡å‹**: æ‰€æœ‰å¯¦æ¸¬æ¨¡å‹ F1 < 0.30
2. **æœ€ä½³æ¨¡å‹ç¼ºå¤±**: A100 è¨“ç·´çµæœç¼ºå°‘æ¬Šé‡æª”æ¡ˆ
3. **æ¨™ç±¤ä¸å®Œæ•´**: role/emotion æ¨™ç±¤æœªä½¿ç”¨
4. **è³‡æ–™ä¸å¹³è¡¡**: æ¸¬è©¦é›†æ¯’æ€§æ¯”ä¾‹ (39.6%) èˆ‡è¨“ç·´é›† (49.4%) ä¸ä¸€è‡´
5. **æ¨¡å‹åå·®**: ç¾æœ‰æ¨¡å‹éåº¦é æ¸¬ "none" é¡åˆ¥ (97% recall)

---

## ğŸ“‹ å»ºè­°å„ªå…ˆäº‹é …

1. **ç«‹å³**: ä½¿ç”¨æ›´æ–°çš„ Colab notebook é‡æ–°è¨“ç·´ A100 æ¨¡å‹
2. **é©—è­‰**: ç¢ºä¿æ¨¡å‹æ¬Šé‡æ­£ç¢ºä¿å­˜ (~400MB)
3. **æ¸¬è©¦**: ä½¿ç”¨ `verify_model_performance.py` é©—è­‰å¯¦éš›æ€§èƒ½
4. **æ¨™ç±¤**: è€ƒæ…®æ•´åˆ role/emotion å¤šä»»å‹™å­¸ç¿’
5. **éƒ¨ç½²**: é”åˆ° F1â‰¥0.75 å¾Œå†è€ƒæ…®ç”Ÿç”¢éƒ¨ç½²

---

**å ±å‘Šç”Ÿæˆæ™‚é–“**: 2025-09-29
**åˆ†æå·¥å…·ç‰ˆæœ¬**: 1.0
**åˆ†æè€…**: Claude Code Assistant