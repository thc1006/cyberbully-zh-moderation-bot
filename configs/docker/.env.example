# CyberPuppy Docker Environment Variables
# 中文網路霸凌防治系統 Docker 環境變數配置
#
# 使用說明:
# 1. 複製此檔案為 .env: cp .env.example .env
# 2. 填入實際的配置值
# 3. 確保 .env 檔案不被加入版本控制

# =============================================================================
# API 服務配置 (CyberPuppy FastAPI)
# =============================================================================

# API 基本設定
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# 縁組部署設定
# API_WORKERS=4
# API_LOG_LEVEL=info

# 模型路徑設定
MODEL_BASE_PATH=/app/models
CACHE_ENABLED=true
CACHE_SIZE=100

# GPU 設定 (可選)
# CUDA_VISIBLE_DEVICES=0
# USE_GPU=true

# =============================================================================
# LINE Bot 服務配置 (CyberPuppy LINE Bot)
# =============================================================================

# LINE Bot 設定 (必填)
# 請於 LINE Developers Console 取得以下資訊:
# https://developers.line.biz/console/
LINE_CHANNEL_ACCESS_TOKEN=YOUR_LINE_CHANNEL_ACCESS_TOKEN_HERE
LINE_CHANNEL_SECRET=YOUR_LINE_CHANNEL_SECRET_HERE

# Bot 基本設定
BOT_HOST=0.0.0.0
BOT_PORT=8080

# API 連線設定
CYBERPUPPY_API_URL=http://api:8000

# =============================================================================
# 日誌設定
# =============================================================================

# 日誌等級: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日誌格式
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# =============================================================================
# 安全設定
# =============================================================================

# CORS 設定 (生產環境應限制特定域名)
ALLOWED_ORIGINS=*
ALLOWED_HOSTS=*

# 生產環境建議設定:
# ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com

# Rate Limiting (速率限制)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=30
RATE_LIMIT_WINDOW=60

# =============================================================================
# 資料庫設定 (可選)
# =============================================================================

# 如果未來需要使用資料庫，可配置以下項目
# DATABASE_URL=postgresql://user:password@db:5432/cyberpuppy
# REDIS_URL=redis://redis:6379/0

# =============================================================================
# 監控設定 (可選)
# =============================================================================

# 效能監控
METRICS_ENABLED=true
METRICS_PORT=8090

# 健康檢查設定
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# 開發環境設定
# =============================================================================

# 開發模式 (生產環境設為 false)
DEVELOPMENT_MODE=true
DEBUG=true

# 热重載 (僅開發環境)
RELOAD=true

# =============================================================================
# 注意事項
# =============================================================================
#
# 1. 安全性:
#    - 絕不要將 .env 檔案提交到版本控制系統
#    - 在生產環境中使用強密碼和安全的 API 金鑰
#    - 限制 CORS 和信任主機設定
#
# 2. LINE Bot 設定:
#    - 在 LINE Developers Console 中取得 Access Token 和 Channel Secret
#    - 設定 Webhook URL: https://yourdomain.com/webhook
#    - 確保 SSL 憑證有效
#
# 3. 部署建議:
#    - 使用 Docker Secrets 或環境變數管理系統
#    - 定期輪換 API 金鑰
#    - 監控系統資源使用情況